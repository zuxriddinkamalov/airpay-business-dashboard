{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./src/mixins/time.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./src/views/dashboard/views/users/Users.vue?f70f","webpack:///./src/mixins/text.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/views/dashboard/views/users/Users.vue?b9ae","webpack:///./src/graphql/mutations/dashboard/users.js","webpack:///src/views/dashboard/views/users/Users.vue","webpack:///./src/views/dashboard/views/users/Users.vue?5565","webpack:///./src/views/dashboard/views/users/Users.vue","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/constant/dashboard.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js"],"names":["anObject","__webpack_require__","module","exports","that","this","result","global","ignoreCase","multiline","unicode","sticky","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","filters","relativeTime","date","sourceFormat","moment","fromNow","time","format","hide","redefine","fails","defined","wks","KEY","length","exec","SYMBOL","fns","strfn","rxfn","O","String","prototype","RegExp","string","arg","call","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Users_vue_vue_type_style_index_0_id_0e5fcd14_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Users_vue_vue_type_style_index_0_id_0e5fcd14_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","shortEmail","email","re","replace","slice","text","money","price","val","parseInt","toString","flags","f","configurable","get","render","_vm","_h","$createElement","_c","_self","attrs","title","slot","type","align","justify","xs","md","staticClass","default-first-option","model","value","callback","$$v","$set","expression","_v","label","on","click","exportCSV","directives","name","rawName","staticStyle","width","border","empty-text","data","usersData","scopedSlots","_u","key","fn","scope","aria-hidden","margin","_s","_f","row","$event","overview","id","background","prev-text","next-text","popper-class","layout","current-page","page","page-size","tableConfig","perPage","total","current-change","pageChange","staticRenderFns","GET_USERS_MUTATION","gql","_templateObject","_templateObject2","Usersvue_type_script_lang_js_","whitelist","dashboard","loading","mixins","mixins_text","components","VBody","Body","mounted","loadUsers","computed","Object","objectSpread","vuex_esm","activeBusiness","state","es","$route","set","watch","newValue","oldValue","$router","push","query","to","from","methods","console","warn","_this","$apollo","variables","business","pagination","limit","then","response","$store","commit","concat","mutation_types","catch","$message","error","users_Usersvue_type_script_lang_js_","component","componentNormalizer","options","__file","$flags","DESCRIPTORS","TO_STRING","$toString","define","source","R","undefined","d","PAGINATION_LIMIT","REPLACE","$replace","searchValue","replaceValue"],"mappings":"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","file":"js/chunk-21b0e769.231d55a7.js","sourcesContent":["'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","/* ============\n * Mixins for working with time\n * ============\n *\n */\n\nimport moment from 'moment'\n\nexport default {\n  filters: {\n    relativeTime: function (date, sourceFormat) {\n      if (!date) return ''\n      if (sourceFormat) return moment(date, sourceFormat).fromNow()\n      return moment(date).fromNow()\n    },\n    time: function (date, format, sourceFormat) {\n      if (!date) return ''\n      if (sourceFormat) return moment(date, sourceFormat).format(format)\n      return moment(date).format(format)\n    }\n  }\n}\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=0e5fcd14&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=0e5fcd14&lang=sass&scoped=true&\"","/* ============\n * Mixins for working with text\n * ============\n *\n */\n\nexport default {\n  filters: {\n    shortEmail: function (email) {\n      let re = /^([a-zA-Z0-9]{1,2})(.+?)@/\n      return email.replace(re, '$1...@')\n    },\n    slice: function (text, length) {\n      if (text.length >= length) {\n        return text.slice(0, length) + '...'\n      }\n      return text\n    },\n    money: function (price) {\n      if (price) {\n        let val = parseInt(price)\n        return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n      }\n      return '0'\n    }\n  }\n}\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('VBody',{attrs:{\"title\":\"Users\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\",\"justify\":\"space-around\"}},[_c('el-col',{attrs:{\"xs\":24,\"md\":12}},[_c('el-select',{staticClass:\"filter-select\",attrs:{\"default-first-option\":\"\"},model:{value:(_vm.filters.whitelist),callback:function ($$v) {_vm.$set(_vm.filters, \"whitelist\", $$v)},expression:\"filters.whitelist\"}},[_c('template',{slot:\"prefix\"},[_c('div',{staticClass:\"filter-select-prefix\"},[_vm._v(\"Whitelist:\")])]),_c('el-option',{attrs:{\"label\":\"Moco whitelist\",\"value\":\"\"}})],2)],1),_c('el-col',{staticClass:\"text-right\",attrs:{\"xs\":24,\"md\":12}},[_c('el-button',{staticClass:\"shadow\",on:{\"click\":_vm.exportCSV}},[_vm._v(\"Export .CSV\")])],1)],1)],1),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"themed-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"empty-text\":\"No users\",\"data\":_vm.usersData}},[_c('el-table-column',{attrs:{\"label\":\"User\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"user-row\"},[_c('div',{staticClass:\"table-tag email-filled\"},[_c('i',{staticClass:\"fa fa-user\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticStyle:{\"margin\":\"0 10px\"}},[_vm._v(_vm._s(_vm._f(\"shortEmail\")(scope.row.email)))]),_c('i',{staticClass:\"fa fa-check\",attrs:{\"aria-hidden\":\"true\"}})])])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Info\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"shadow\",on:{\"click\":function($event){_vm.overview(scope.row.id)}}},[_vm._v(\"Approve\")])]}}])})],1),_c('div',{staticClass:\"table-pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"prev-text\":\"Previous\",\"next-text\":\"Next\",\"popper-class\":\"table-pagination-inner\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.page,\"page-size\":_vm.tableConfig.perPage,\"total\":_vm.tableConfig.total},on:{\"current-change\":_vm.pageChange}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import gql from 'graphql-tag'\n\n//  GET ALL USERS RELATIVE TO BUSINESS\nexport const GET_USERS_MUTATION = gql`\n  query ($pagination: PaginationInput, $business: ID!){\n    getUsers(business: $business, pagination: $pagination){\n      users {\n        id\n        email\n      }\n      pagination {\n        totalDocs\n        limit\n        offset\n        hasPrevPage\n        hasNextPage\n        page\n        totalPages\n        prevPage\n        nextPage\n      }\n    }\n  }\n`\n//  GET USER\nexport const GET_USER_MUTATION = gql`\n  query ($id: ID!, $business: ID!){\n    getUser(business: $business, id: $id){\n      id\n      email\n    }\n  }\n`\n","<template>\n    <VBody title=\"Users\">\n        <div slot=\"header\">\n            <el-row type=\"flex\" align=\"middle\" justify=\"space-around\">\n                <el-col :xs=\"24\" :md=\"12\">\n                    <el-select\n                        class=\"filter-select\"\n                        v-model=\"filters.whitelist\"\n                        default-first-option>\n                        <template slot=\"prefix\"><div class=\"filter-select-prefix\">Whitelist:</div> </template>\n                        <el-option label=\"Moco whitelist\" value=\"\"></el-option>\n                    </el-select>\n                </el-col>\n                <el-col :xs=\"24\" :md=\"12\" class=\"text-right\">\n                    <el-button class=\"shadow\" @click=\"exportCSV\">Export .CSV</el-button>\n                </el-col>\n            </el-row>\n        </div>\n        <div slot=\"content\">\n            <el-table\n                v-loading=\"loading\"\n                class=\"themed-table\"\n                border\n                empty-text=\"No users\"\n                :data=\"usersData\"\n                style=\"width: 100%\">\n                <el-table-column\n                    label=\"User\"\n                    width=\"160\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"user-row\">\n                            <div class=\"table-tag email-filled\">\n                                <i class=\"fa fa-user\" aria-hidden=\"true\"></i>\n                                <span style=\"margin: 0 10px\">{{ scope.row.email | shortEmail }}</span>\n                                <i class=\"fa fa-check\" aria-hidden=\"true\"></i>\n                            </div>\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                    label=\"Info\">\n                    <template slot-scope=\"scope\">\n                        <el-button class=\"shadow\" @click=\"overview(scope.row.id)\">Approve</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"table-pagination\">\n                <el-pagination\n                    background\n                    prev-text=\"Previous\"\n                    next-text=\"Next\"\n                    popper-class=\"table-pagination-inner\"\n                    layout=\"prev, pager, next\"\n                    @current-change=\"pageChange\"\n                    :current-page=\"page\"\n                    :page-size=\"tableConfig.perPage\"\n                    :total=\"tableConfig.total\">\n                </el-pagination>\n            </div>\n        </div>\n    </VBody>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { path } from 'ramda'\n\nimport { PAGINATION_LIMIT } from '@/constant/dashboard'\nimport TimeMixin from '@/mixins/time'\nimport TextMixin from '@/mixins/text'\nimport VBody from '../../components/Body'\nimport { GET_USERS_MUTATION } from '../../../../graphql/mutations/dashboard/users'\nimport { SET_USERS_DATA } from '../../../../store/modules/dashboard/users/mutation-types'\n\nexport default {\n  name: 'Users',\n  data: function () {\n    return {\n      filters: {\n        whitelist: ''\n      },\n      tableConfig: {\n        perPage: PAGINATION_LIMIT,\n        total: 0\n      },\n      loading: false,\n      usersData: []\n    }\n  },\n  mixins: [TimeMixin, TextMixin],\n  components: {\n    VBody\n  },\n  mounted () {\n    this.loadUsers()\n  },\n  computed: {\n    ...mapState({\n      activeBusiness: state => state.dashboard.activeBusiness\n    }),\n    page: {\n      get () {\n        return parseInt(path(['query', 'page'], this.$route)) || 1\n      },\n      set (value) {\n      }\n    }\n  },\n  watch: {\n    activeBusiness (newValue, oldValue) {\n      this.$router.push({\n        query: {}\n      })\n      this.loadUsers()\n    },\n    $route (to, from) {\n      this.loadUsers()\n    }\n  },\n  methods: {\n    exportCSV: function () {\n      console.warn('Export as csv')\n    },\n    loadUsers: function () {\n      let activeBusiness = this.activeBusiness.id\n      let page = this.page\n      this.loading = true\n      this.$apollo\n        .query({\n          query: GET_USERS_MUTATION,\n          variables: {\n            business: activeBusiness,\n            pagination: {\n              page: page,\n              limit: PAGINATION_LIMIT\n            }\n          }\n        })\n        .then(response => {\n          this.tableConfig.total = path(['data', 'getUsers', 'pagination', 'totalDocs'], response)\n          this.usersData = path(['data', 'getUsers', 'users'], response)\n          this.$store.commit(`dashboard/users/${SET_USERS_DATA}`, {\n            key: 'usersList',\n            value: this.usersData\n          })\n          this.loading = false\n        })\n        .catch(response => {\n          this.$message.error(response)\n          this.loading = false\n        })\n    },\n    pageChange: function (page) {\n      this.$router.push({\n        query: {\n          page: page\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=0e5fcd14&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=0e5fcd14&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e5fcd14\",\n  null\n  \n)\n\ncomponent.options.__file = \"Users.vue\"\nexport default component.exports","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","export const PAGINATION_LIMIT = 5\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n"],"sourceRoot":""}